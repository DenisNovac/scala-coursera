Этот документ основан на многих стилистических ошибках, которые наблюдались в сабмишшенах. Проверять стилистические ошибки можно через `sbt`, используя задачу `styleCheck`.

# Common Issues

- Избегай кастов (Casts) и Type Tests

Никогда не используйтё `isInstanceOf` или `asInstanceOf` - всегда есть лучшее решение. 

- Отступы

Код с правильными отступами проще читать. 

Стандартом для скала явлеется **2 пробела**.

- Длина линий и пробелы

Линии не должны быть слишком длинынми, такой код тяжело читать.

Было:

```scala
if(p(this.head))this.tail.filter0(p, accu.incl(this.head))else this.tail.filter0(p, accu)
```

Стало:

```scala
val newAccu =
  if (p(this.head)) accu.incl(this.head)
  else accu
this.tail.filter0(p, newAccu)

```

- Используй локальные Values чтобы упростить сложные выражения

В функциональном стиле принято имплеметировать методы как комбинацию вызовов функций. Если такая линия разрастается, код может быть тяжело читать.

В таких случаях лучше всего хранить некоторые аргументы в локальных `val` перед передачей в функцию.

- Понятные именда для методов и значений

Имена методов, полей и значений должны выбираться так, чтобы было понятно, что они делают

- Частые подвыражения

Нужно избегать ненужных вызовов сложновычислимых методов, например

```scala
this.remove(this.findMin).ascending(t + this.findMin)
```

Вызывает метод `this.findMin` дважды. Если каждый вызов дорог - лучше делать так:

```scala
val min = this.findMin
this.remove(min).ascending(t + min)
```

Это очень важно, если функция рекурсивна. 

- Не копипастить

Если приходится копипастить - значит, что-то неправильно. Общие части нужно определить и вынести в различные методы вместо копирования.

- Scala не требует точек с запятой

Точки с запятой можно использовать только если в одну строку записано несколько выражений.

- Не высылайте код с `print` вызовами

Все вызовы `print` должны быть вычищены перед высылкой кода. Естественно, ИРЛ дебаговые элементы тоже должны быть вычищены.

- Не используйте Return

В Scala обычно не нужно использовать явные ретурны.

- Избегайте изменяемых локальных переменных

Этот курс посвящён функциональному программированию, поэтому нужно писать код в чистом функциональном стиле. Почти любой код можно переписать так, чтобы избавиться от `var`. Вместо использования `var` можно писать функции-помощники, принимающие аккумуляторы:

Было: 

```scala
def fib(n: Int): Int = {
  var a = 0
  var b = 1
  var i = 0
  while (i < n) {
    val prev_a = a
    a = b
    b = prev_a + b
    i = i + 1
  }
  a
}

```

Стало:


```scala
def fib(n: Int): Int = {
  def fibIter(i: Int, a: Int, b: Int): Int =
    if (i == n) a else fibIter(i+1, b, a+b)
  fibIter(0, 0, 1)
}
```

- Избавьтесь от "IF" выражений

Вместо

```scala
if (cond) true else false
```

Можно писать

```
cond
```











